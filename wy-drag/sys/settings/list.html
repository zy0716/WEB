


<div id="ly" class="easyui-layout" fit="true" border="false">
    <div region="center" title="数据列表" iconCls="wy-icon-table" border="false" >
        <div class="wy-centerbox">
            <!-- 列表开始 -->
            <table id="dg"  url="mdcsys/sys/settings/listjson.json" >
                <thead>
                <tr>
                    <!-- <th data-options="field:'id',checkbox:true"></th>
                    <th field="edit" formatter="rowformater" halign="center" align="center" >操作</th> -->
                    <th field="discription" halign="center" >项目</th>
                    <th field="commonvalue" halign="center">值</th>
                </tr>
                </thead>
            </table>
            <!-- 列表结束 -->
        </div>
    </div>
    <!-- <div region="east" style="width:690px;" split="true" border="false" collapsed="true"></div> -->
</div>

<script type="text/javascript">

    $('#dg').datagrid({
        rownumbers: true,
        pagination: true,
        singleSelect:false,
        toolbar: '#toolbar',
        pageSize: 20
    });

    function rowformater(value,row,index){

        var dataUrl = 'mdcsys/sys/settings/itemjson.json';
        var formUrl = 'mdcsys/sys/settings/form.html';
        var edit = '<span title="修改" class="editColumn" onclick="editItem(event, {dataUrl:\''+dataUrl+'\', formUrl:\''+formUrl+'\', callbackFun:showFormValue})" ></span>';

        return edit;
    }


    function showFormValue(data){

        $('#fm').form('load',data);
        $('#keytext').text(data.discription);
    }


</script>